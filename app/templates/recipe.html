<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{{url_for('static',filename='output.css')}}">
    <link rel="stylesheet" href="{{url_for('static',filename='global.css')}}">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=print" />
</head>
<body>
    <script src="{{url_for('static',filename='recipe.js')}}"></script>
    
    <!-- Content Container -->
    {% if recipe and image_src and recipeAuthor and ingredients and directions%}
    <div class="flex flex-col gap-3 max-w-screen-md mx-10 md:mx-auto ">
        <!-- Title, description, author details -->
        <h1 class="text-6xl font-medium">{{recipe.title}}</h1>
        <div class="flex flex-row gap-3">
            <div class="border-b-2 border-violet-400">5.0 (1000)</div>
            <div class="border-l-2 border-gray-200 w-1 h-6 my-auto"> </div>
            <div class="border-b-2 border-violet-400">500 Reviews</div>
            <div class="border-l-2 border-gray-200 w-1 h-6 my-auto"> </div>
            <div class="border-b-2 border-violet-400">100 Photos</div>
        </div>
        <div>{{recipe.story}}</div>
        <div class="flex flex-row gap-3">
            <div>Submitted by <span class="font-medium">{{recipeAuthor.username}}</span></div>
            <div class="border-l-2 border-gray-200 w-1 h-6 my-auto"> </div>
            <div class="text-gray-500"> Posted on {{recipe.date_added}}</div>
        </div>
        <div class="flex flex-row gap-1">
            <button class="bg-violet-400 hover:bg-violet-500 font-medium text-white py-3 px-4">I made this!</button>
            <button class="bg-violet-400 hover:bg-violet-500 font-medium text-white py-3 px-4">Print</button>
            <button class="bg-violet-400 hover:bg-violet-500 font-medium text-white py-3 px-4">Share</button>
        </div>
        <!-- Image and timings -->
        <div class="w-1/2 h-fit flex flex-col gap-3">
            <img class="object-contain rounded-md shadow-lg" src="{{ image_src }}" alt="Image" >
            <div class="border-4  border-violet-400 rounded-md">
                <div class="flex flex-col md:flex-row">
                    <div class="flex flex-col w-1/2 m-2">
                        <div class="font-medium">Prep Time:</div>
                        <div>{{recipe.prep_time}} mins</div>
                    </div>
                    <div class="flex flex-col w-1/2 m-2">
                        <div class="font-medium">Cook Time:</div>
                        <div>{{recipe.cook_time}} mins</div>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row">
                    <div class="flex flex-col w-1/2 m-2">
                        <div class="font-medium">Total Time:</div>
                        <div>{{recipe.cook_time + recipe.prep_time}} mins</div>
                    </div>
                    <div class="flex flex-col w-1/2 m-2">
                        <div class="font-medium">Servings:</div>
                        <div>{{recipe.servings}}</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Ingredients Section -->
        <div class="flex flex-col gap-2">
            <h1 class="text-4xl font-medium">Ingredients</h1>
            <div class="flex flex-row font-medium">
                <button onclick="switchButton(1)" id="defaultButton" class="border-b-2 border-l-2 border-t-2 border-r-0 rounded-l-md border-violet-400 px-3 py-1 bg-violet-400 text-white" disabled>1x</button>
                <button onclick="switchButton(2)" id="doubleButton" class="border-2 border-violet-400 px-3 py-1 hover:bg-gray-50">2x</button>
                <button onclick="switchButton(4)" id="quadButton" class="border-b-2 border-l-0 border-t-2 border-r-2 rounded-r-md border-violet-400 px-3 py-1 hover:bg-gray-50">4x</button>
            </div>
            <ul class="ml-8 list-disc list-inside" id="ingredientList">
                {% for ingredient in ingredients %}
                <li>{{ingredient.ingredient}}</li>
                {% endfor %}
            </ul>
        </div>
        <!-- Directions Section -->
        <div>
            <h1 class="text-4xl font-medium">Direcitons</h1>
            <ul class="mt-4 ml-8 list-disc list-inside">
                {% for direction in directions %}
                <li class="">{{direction.step_description}}</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% else %}
        <p>Content not found.</p>
    {% endif %}
    
</body>
</html>